<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Browse by Genre</title>
  <link rel="stylesheet" href="../css/styles.css">
  <link rel="stylesheet" href="https://cdn.plyr.io/3.7.3/plyr.css">
</head>
<body>
  <header>
    <h1>Browse by Genre</h1>
  </header>
  <main>
    <section id="videoPlayerSection">
      <h2>Video Player</h2>
      <video id="player" controls></video>
    </section>
    <div class="genre-dropdown-container">
      <select class="genre-dropdown" id="dropdown">
        <option value="pop">pop</option>
        <option value="hiphop">hiphop</option>
        <option value="cinematic">cinematic</option>
        <option value="rock">rock</option>
      </select>
    </div>
    <section id="songList">
      <h2>Songs</h2>
    </section>
  </main>
  <footer>
    <p>&copy; 2024 Your Website. All rights reserved.</p>
  </footer>

  <!-- Include Plyr script -->
  <script src="https://cdn.plyr.io/3.7.3/plyr.js"></script>

  <!-- Include your custom script -->
  <script type="module" src="../js/script.js"></script>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Get the video URL from the query parameter
      const urlParams = new URLSearchParams(window.location.search);
      const videoUrl = urlParams.get('videoUrl');

      // Set the video URL as the source for the Plyr video player
      if (videoUrl) {
        const player = new Plyr('#player');
        player.source = {
          type: 'video',
          sources: [
            {
              src: decodeURIComponent(videoUrl),
              type: 'video/mp4',
            },
          ],
        };
      }

      // Set the video URL as the source for the regular video player
      const videoPlayer = document.getElementById('player');
      if (videoUrl && videoPlayer) {
        videoPlayer.src = decodeURIComponent(videoUrl);
      }
    });
  </script>
</body>
</html>